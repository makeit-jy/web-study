# URI의 스펙

URI란 무엇이고 어떻게 구성되어 있는지 알아보자

## 1 URI의 정의

URI란 리소스를 통일적으로 식별하는 ID

- 통일적이기에 모두 같은 규칙을 따르며
- 식별 가능하기에 하나의 URI는 오직 하나의 리소스를 가르킨다.

## 2 URI의 구조

<p><img src = Image/URI_Structure.PNG width=400px></p>

- URI Scheme

사용하는 프로토콜을 나타낸다. 

끝 문자 ://

ex) http, https

- 사용자 정보

사용자 이름과 패스워드를 나타내며 :를 통해 구분한다.

끝 문자 @

- 호스트 정보

호스트 명과 포트 번호로 구분되며 :를 통해 구분된다.

호스트 명은 DNS에서 해석 가능한 도메인명 이나 IP Address이며 유일하다.

포트 번호는 생략시 프로토콜에서 제공하는 기본 값으로 설정되며 http의 경우 80이다.

- Path

계층화를 나타내는 경로이며 유일하다.

- query

이름=값의 형식으로 이루어지며 복수의 경우 &를 통해 연결한다.

- URI Fragment

URI 내의 더욱 세세한 부분을 가르킨다.


## 3 절대 URI, 상대 URI

- 운영체제에서 사용하는 경로와 같이 URI도 절대, 상대 URI를 가진다.

- 상대 URI란 Base URI를 기점으로 계산되는 URI다.
<img src = Image/URI_EXAMPLE.PNG width=400px>
ex) Base URI : www.example.com , 상대 URI : ho 라면 www.example.com/ho 가 완성된 URI이다.


### 한계

- 상대 URI를 사용할 때 Base URI가 리소스의 URI라면 좋겠지만 그러기 위해서는 리소스의 URI를 클라이언트가 가지고 있어야한다.

- 이를 위해 Html이나 Xml 내부에 Base URI를 명시한다.

<img src = Image/BASEURI_EXAMPLE.PNG width=400px>

## 4 URI와 문자

- 일반적으로 URI는 ASCII코드 내의 문자만 사용 가능하다.

- 이외의 문자를 사용할 경우 %인코딩(URI 인코딩)이 필요하다. ex) 가 -> %EA%B0%80

### 한계

- 서버에서 제공하는 URI를 사용할 경우 문제 없지만 사용자가 폼을 사용해 직접 URI를 생성할 경우 클라이언트에서 사용할 인코딩을 판단해야한다.

- 인코딩의 종류가 다양하다(UTF-8,16...)

- 어떤 인코딩 사용할지 판단 불가

### 해결 방안

- 웹페이지의 문자 인코딩과 같은 인코딩을 자동으로 사용함

- 대부분의 웹페이지는 utf-8 인코딩을 사용함

- 그러나 인코딩할 수 없는 문자 사용되면 에러가 발생함


## 5 URI 길이제한

이론상 없지만 구현상에 제한은 존재하며 Explor의 경우 2038바이트이다.
