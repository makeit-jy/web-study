# 8 스테이터스 코드

- 스테이터스 코드란?
    - HTTP 요청의 결과로 얻어지는 응답메시지 중에서 그 의미를 전달하는 것
    - 응답 메시지의 첫째 줄 → 스테이터스 라인(프로토콜 버전, 스테이터스 코드, 텍스트 프레이즈)

        ```java
        HTTP/1.1 200 OK
        ```

    - 클라이언트와 서버의 결합을 완화하기 위해 고안된 방법
- 분류와 의미
    - 1xx : 처리중
    - 2xx : 성공
        200(요청성공) 201(리소스 작성 성공)
    - 3xx : 리다이렉트
        301(요청에서 지정한 리소스를 새로운 URI로 이동) 
        303(다른 URI의 참조)
    - 4xx : 클라이언트 에러
        400(요청 오류)
        401(접근권한없음,인증실패)
        404(리소스 없음)
    - 5xx : 서버 에러
        500(서버 내부 에러)
        503(서비스 정지)
- 오류처리 및 설정
    - 에러 정보의 표현을 Accept 헤더에 따른 포멧으로 변경할 수 있다.
    - 반드시 사람이 수신하는 것이 아니기 때문에(HTML) 클라이언트가 해석할 수 있는 형식으로 에러 메시지를 반환해 주어야 한다
    - 에러 발생시 어떤 스테이터스 코드를 반환할지 결정하는 것은 중요한 설계 검토사항이다. 구체적 구현은 웹서비스와 프레임워크에 따라 다르다.
        - Apache - 정적 파일에 대해 자동으로 생성. mod_rewrite를 통해 재설정 가능
        - 서블릿 - HttpServletResponse 클래스의 메서드를 이용
        - Ruby on Rails - 컨트롤러에서 render 메서드를 사용해 결과를 렌더링 할 때 인수로 전달
- 예시

    ```java
    GET /foo HTTP/ l.l
    Host: example.com
    ```

    ```java
    HTTP/ 1.1 404 Not Found
    Content-Type: application/xhtml+xml: charset=utf-8

    <html xmlns=" http://www.w3.org/1999/xhtml''>
    	<head><title>에러</title></head>
    	<body>요청하신 페이지를 찾을 수 없습니다.</body>
    </html>
    ```